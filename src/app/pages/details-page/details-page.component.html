<app-loader *ngIf="loading" />
<h2 *ngIf="!hero && !loading">No hero found :(</h2>

<div *ngIf="hero">
  <h2>{{hero.name}} Details</h2>

  <form [formGroup]="form" (ngSubmit)="submit()" class="heroForm">
    <h4>id: {{hero.id}}</h4>
    <div class="row">
      <h3>Hero name:</h3>
      <input type="text" formControlName="name" placeholder="name"/>
      <div *ngIf="name?.invalid && (name?.dirty || name?.touched)" class="error">
        <div *ngIf="name?.errors?.['required']">
          Name is required!
        </div>
      </div>
    </div>

    <div class="row">
      <h3>Hero rating:</h3>
      <input type="number" formControlName="rating" placeholder="rating"/>
      <div *ngIf="rating?.invalid && (rating?.dirty || rating?.touched)" class="error">
        <div *ngIf="rating?.errors?.['required']">
          Rating is required!
        </div>
        <div *ngIf="rating?.errors?.['min']">
          Min possible rating is 0!
        </div>
      </div>
    </div>

    <div class="row">
      <button type="button" class="formButton" (click)="navigateBack()">Back</button>
      <button type="submit" class="formButton" disabled="{{rating?.errors || name?.errors}}">Save</button>
    </div>
  </form>
</div>


